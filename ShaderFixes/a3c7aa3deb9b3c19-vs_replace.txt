// HUD - crosshair outer circle + lots of others
// ---- Created with 3Dmigoto v1.2.52 on Sat Dec 31 14:13:06 2016

cbuffer FireUiPrimitive : register(b0)
{
  float4 ColorAdd : packoffset(c0);
  float4 ColorMultiplier : packoffset(c1);
  float4 DiffuseSampler0Size : packoffset(c2);
  float4 DistanceFieldFloatArray[3] : packoffset(c3);
  float4x4 Transform : packoffset(c6);
  float4 UVOffsets[9] : packoffset(c10);
  float4x4 UVTransform : packoffset(c19);
  float4 VideoTextureUnpack[8] : packoffset(c23);
  float3 GammaBrightnessContrastParams : packoffset(c31);
  float DesaturationFactor : packoffset(c31.w);
  float2 SystemTime_GlitchFactor : packoffset(c32);
}

// 3Dmigoto declarations
#define cmp -
Texture1D<float4> IniParams : register(t120);
Texture2D<float4> StereoParams : register(t125);

#include "crosshair.hlsl"

void main( 
  float2 v0 : position0,
  float2 v1 : texcoord2,
  float4 v2 : color1,
  out float4 o0 : TEXCOORD0,
  out float2 o1 : TEXCOORD1,
  out float4 o2 : SV_Position0)
{
  float4 r0,r1;
  uint4 bitmask, uiDest;
  float4 fDest;

  o0.xyzw = v2.xyzw;
  o1.xy = v1.xy;
  r0.xy = v0.xy;
  r0.zw = float2(1,1);
  r1.x = dot(r0.xyww, Transform._m00_m10_m20_m30);
  r1.y = dot(r0.xyww, Transform._m01_m11_m21_m31);
  r0.z = dot(r0.xyzw, Transform._m03_m13_m23_m33);
  o2.z = dot(r0.xyww, Transform._m02_m12_m22_m32);
  r0.xy = r1.xy * float2(2,2) + -r0.zz;
  o2.w = r0.z;
  o2.xy = float2(1,-1) * r0.xy;

float tex_filter = IniParams[1].x;
if (!tex_filter)
	return;

if (o2.w == 1)
	o2.x += adjust_from_depth_buffer(0, 0);

  return;
}

/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Generated by Microsoft (R) HLSL Shader Compiler 9.30.9200.16384
//
//   using 3Dmigoto v1.2.52 on Sat Dec 31 14:13:06 2016
//
//
// Buffer Definitions: 
//
// cbuffer FireUiPrimitive
// {
//
//   float4 ColorAdd;                   // Offset:    0 Size:    16 [unused]
//   float4 ColorMultiplier;            // Offset:   16 Size:    16 [unused]
//   float4 DiffuseSampler0Size;        // Offset:   32 Size:    16 [unused]
//   float4 DistanceFieldFloatArray[3]; // Offset:   48 Size:    48 [unused]
//   float4x4 Transform;                // Offset:   96 Size:    64
//   float4 UVOffsets[9];               // Offset:  160 Size:   144 [unused]
//   float4x4 UVTransform;              // Offset:  304 Size:    64 [unused]
//   float4 VideoTextureUnpack[8];      // Offset:  368 Size:   128 [unused]
//   float3 GammaBrightnessContrastParams;// Offset:  496 Size:    12 [unused]
//   float DesaturationFactor;          // Offset:  508 Size:     4 [unused]
//   float2 SystemTime_GlitchFactor;    // Offset:  512 Size:     8 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// FireUiPrimitive                   cbuffer      NA          NA    0        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// position                 0   xy          0     NONE   float   xy  
// texcoord                 2   xy          1     NONE   float   xy  
// color                    1   xyzw        2     NONE   float   xyzw
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// TEXCOORD                 0   xyzw        0     NONE   float   xyzw
// TEXCOORD                 1   xy          1     NONE   float   xy  
// SV_Position              0   xyzw        2      POS   float   xyzw
//
vs_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb0[10], immediateIndexed
dcl_input v0.xy
dcl_input v1.xy
dcl_input v2.xyzw
dcl_output o0.xyzw
dcl_output o1.xy
dcl_output_siv o2.xyzw, position
dcl_temps 2
mov o0.xyzw, v2.xyzw
mov o1.xy, v1.xyxx
mov r0.xy, v0.xyxx
mov r0.zw, l(0,0,1.000000,1.000000)
dp4 r1.x, r0.xyww, cb0[6].xyzw
dp4 r1.y, r0.xyww, cb0[7].xyzw
dp4 r0.z, r0.xyzw, cb0[9].xyzw
dp4 o2.z, r0.xyww, cb0[8].xyzw
mad r0.xy, r1.xyxx, l(2.000000, 2.000000, 0.000000, 0.000000), -r0.zzzz
mov o2.w, r0.z
mul o2.xy, r0.xyxx, l(1.000000, -1.000000, 0.000000, 0.000000)
ret 
// Approximately 12 instruction slots used

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
