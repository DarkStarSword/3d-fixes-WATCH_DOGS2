// asmtool.py --fix-wd2-screen-space-reflections-cs -i -f --only-autofixed 8e64fc37eb5bbd23-cs.txt
//
// Generated by Microsoft (R) HLSL Shader Compiler 9.30.9200.16384
//
//   using 3Dmigoto v1.2.42 on Tue Dec 27 11:18:08 2016
//
//
// Buffer Definitions: 
//
// cbuffer ScreenSpacePlanarReflectionForWater
// {
//
//   float4 SSPRWHomogenousToFinalCoords;// Offset:    0 Size:    16
//   float4x4 SSPRWInvViewMatrix;       // Offset:   16 Size:    64 [unused]
//   float4x4 SSPRWMirrorViewProjMatrix;// Offset:   80 Size:    64 [unused]
//   float4 SSPRWParams0;               // Offset:  144 Size:    16 [unused]
//   float4 SSPRWParams1;               // Offset:  160 Size:    16 [unused]
//   float4 SSPRWResolution;            // Offset:  176 Size:    16
//   float4x4 SSPRWViewProjMatrix;      // Offset:  192 Size:    64 [unused]
//   uint4 VisibilityGridParams;        // Offset:  256 Size:    16 [unused]
//   float2 ClearScale;                 // Offset:  272 Size:     8
//   float2 ReflectionFallOffMulAdd;    // Offset:  280 Size:     8 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// ScreenSpacePlanarReflectionForWater__OutputTexture        UAV  float4          2d    0        1
// ScreenSpacePlanarReflectionForWater__SSPRWDepthTexture        UAV    uint          2d    1        1
// ScreenSpacePlanarReflectionForWater    cbuffer      NA          NA    0        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// no Input
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// no Output
cs_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb0[18], immediateIndexed
dcl_uav_typed_texture2d (float,float,float,float) u0
dcl_uav_typed_texture2d (uint,uint,uint,uint) u1
dcl_input vThreadID.xy
dcl_temps 2
dcl_thread_group 16, 16, 1

// 3DMigoto StereoParams:
dcl_resource_texture2d (float,float,float,float) t125

ld_indexable(texture2d)(float,float,float,float) r1.xyzw, l(0, 0, 0, 0), t125.xyzw


// WATCH_DOGS2 Screen Space Reflection fix (Compute Shader variant) inserted with DarkStarSword's asmtool.py:
// asmtool.py --fix-wd2-screen-space-reflections-cs -i -f --only-autofixed 8e64fc37eb5bbd23-cs.txt
itof r0.x, vThreadID.y
ge r0.y, r0.x, cb0[11].y
if_nz r0.y
  ret 
endif 
itof r0.y, vThreadID.x
mul r0.zw, cb0[11].xxxy, cb0[17].xxxy
lt r0.y, r0.z, r0.y
lt r0.x, r0.w, r0.x
or r0.x, r0.x, r0.y
if_nz r0.x
  ret 
endif 
store_uav_typed u0.xyzw, vThreadID.xyyy, l(0,0,0,0)
mul r0.x, cb0[0].z, l(65536.000000)
ftou r0.x, r0.x
store_uav_typed u1.xyzw, vThreadID.xyyy, r0.xxxx
ret 
// Approximately 18 instruction slots used